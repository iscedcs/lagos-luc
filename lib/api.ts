import type { Property } from "./types";

// This is a mock API function that would normally fetch data from a backend
export async function fetchProperties(
  searchQuery?: string
): Promise<Property[]> {
  // Simulate API delay
  await new Promise((resolve) => setTimeout(resolve, 500));

  // Get all properties
  const allProperties: Property[] = [
    {
      id: 1001,
      address: "15 Bourdillon Road",
      area: "Ikoyi",
      owner: "John Adebayo",
      ownerContact: "john.adebayo@example.com",
      type: "Residential",
      landSize: 1200,
      zone: "High-Income Residential",
      paymentStatus: "paid",
      amountDue: 750000,
      dueDate: "2023-12-31",
      lastPaymentDate: "2023-11-15",
      boundaries: [
        [6.4412, 3.4131],
        [6.4418, 3.4131],
        [6.4418, 3.4141],
        [6.4412, 3.4141],
      ],
      center: [6.4415, 3.4136],
    },
    {
      id: 1002,
      address: "25 Admiralty Way",
      area: "Lekki Phase 1",
      owner: "Sarah Okonkwo",
      ownerContact: "sarah.o@example.com",
      type: "Commercial",
      landSize: 850,
      zone: "Commercial",
      paymentStatus: "owing",
      amountDue: 1200000,
      dueDate: "2023-10-15",
      boundaries: [
        [6.4312, 3.4731],
        [6.4318, 3.4731],
        [6.4318, 3.4741],
        [6.4312, 3.4741],
      ],
      center: [6.4315, 3.4736],
    },
    {
      id: 1003,
      address: "7 Glover Road",
      area: "Ikoyi",
      owner: "Michael Eze",
      ownerContact: "m.eze@example.com",
      type: "Residential",
      landSize: 1500,
      zone: "High-Income Residential",
      paymentStatus: "paid",
      amountDue: 950000,
      dueDate: "2023-12-31",
      lastPaymentDate: "2023-09-22",
      boundaries: [
        [6.4512, 3.4231],
        [6.4518, 3.4231],
        [6.4518, 3.4241],
        [6.4512, 3.4241],
      ],
      center: [6.4515, 3.4236],
    },
    {
      id: 1004,
      address: "12 Ajose Adeogun Street",
      area: "Victoria Island",
      owner: "Funke Akindele",
      ownerContact: "funke.a@example.com",
      type: "Commercial",
      landSize: 2000,
      zone: "Commercial",
      paymentStatus: "owing",
      amountDue: 2500000,
      dueDate: "2023-11-30",
      boundaries: [
        [6.4312, 3.4231],
        [6.4318, 3.4231],
        [6.4318, 3.4241],
        [6.4312, 3.4241],
      ],
      center: [6.4315, 3.4236],
    },
    {
      id: 1005,
      address: "5 Chevron Drive",
      area: "Lekki",
      owner: "David Oyelowo",
      ownerContact: "d.oyelowo@example.com",
      type: "Residential",
      landSize: 900,
      zone: "Middle-Income Residential",
      paymentStatus: "paid",
      amountDue: 550000,
      dueDate: "2023-12-31",
      lastPaymentDate: "2023-10-05",
      boundaries: [
        [6.5112, 3.5431],
        [6.5118, 3.5431],
        [6.5118, 3.5441],
        [6.5112, 3.5441],
      ],
      center: [6.5115, 3.5436],
    },
    {
      id: 1006,
      address: "30 Awolowo Road",
      area: "Ikeja",
      owner: "Chioma Nnadi",
      ownerContact: "c.nnadi@example.com",
      type: "Mixed Use",
      landSize: 1100,
      zone: "Mixed Use",
      paymentStatus: "owing",
      amountDue: 850000,
      dueDate: "2023-09-30",
      boundaries: [
        [6.6012, 3.3531],
        [6.6018, 3.3531],
        [6.6018, 3.3541],
        [6.6012, 3.3541],
      ],
      center: [6.6015, 3.3536],
    },
    {
      id: 1007,
      address: "8 Banana Island Road",
      area: "Ikoyi",
      owner: "Aliko Dangote",
      ownerContact: "a.dangote@example.com",
      type: "Residential",
      landSize: 3000,
      zone: "High-Income Residential",
      paymentStatus: "paid",
      amountDue: 3500000,
      dueDate: "2023-12-31",
      lastPaymentDate: "2023-08-15",
      boundaries: [
        [6.4212, 3.4531],
        [6.4218, 3.4531],
        [6.4218, 3.4541],
        [6.4212, 3.4541],
      ],
      center: [6.4215, 3.4536],
    },
    {
      id: 1008,
      address: "15 Allen Avenue",
      area: "Ikeja",
      owner: "Bola Ahmed",
      ownerContact: "b.ahmed@example.com",
      type: "Commercial",
      landSize: 750,
      zone: "Commercial",
      paymentStatus: "owing",
      amountDue: 1100000,
      dueDate: "2023-10-31",
      boundaries: [
        [6.6112, 3.3431],
        [6.6118, 3.3431],
        [6.6118, 3.3441],
        [6.6112, 3.3441],
      ],
      center: [6.6115, 3.3436],
    },
    {
      id: 1009,
      address: "22 Adeola Odeku Street",
      area: "Victoria Island",
      owner: "Tunde Johnson",
      ownerContact: "t.johnson@example.com",
      type: "Commercial",
      landSize: 1800,
      zone: "Commercial",
      paymentStatus: "paid",
      amountDue: 2200000,
      dueDate: "2023-12-31",
      lastPaymentDate: "2023-11-10",
      boundaries: [
        [6.4312, 3.4031],
        [6.4318, 3.4031],
        [6.4318, 3.4041],
        [6.4312, 3.4041],
      ],
      center: [6.4315, 3.4036],
    },
    {
      id: 1010,
      address: "10 Ligali Ayorinde Street",
      area: "Victoria Island",
      owner: "Ngozi Okafor",
      ownerContact: "n.okafor@example.com",
      type: "Mixed Use",
      landSize: 1300,
      zone: "Mixed Use",
      paymentStatus: "owing",
      amountDue: 1800000,
      dueDate: "2023-09-15",
      boundaries: [
        [6.4352, 3.4131],
        [6.4358, 3.4131],
        [6.4358, 3.4141],
        [6.4352, 3.4141],
      ],
      center: [6.4355, 3.4136],
    },
    {
      id: 1011,
      address: "5 Adeyemo Alakija Street",
      area: "Victoria Island",
      owner: "Adekunle Gold",
      ownerContact: "a.gold@example.com",
      type: "Commercial",
      landSize: 1200,
      zone: "Commercial",
      paymentStatus: "paid",
      amountDue: 1500000,
      dueDate: "2023-12-31",
      lastPaymentDate: "2023-10-15",
      boundaries: [
        [6.428, 3.42],
        [6.4285, 3.42],
        [6.4285, 3.421],
        [6.428, 3.421],
      ],
      center: [6.4282, 3.4205],
    },
    {
      id: 1012,
      address: "10 Murtala Muhammed Way",
      area: "Yaba",
      owner: "Femi Otedola",
      ownerContact: "f.otedola@example.com",
      type: "Mixed Use",
      landSize: 900,
      zone: "Mixed Use",
      paymentStatus: "owing",
      amountDue: 950000,
      dueDate: "2023-11-15",
      boundaries: [
        [6.51, 3.375],
        [6.5105, 3.375],
        [6.5105, 3.376],
        [6.51, 3.376],
      ],
      center: [6.5102, 3.3755],
    },
    {
      id: 1013,
      address: "25 Kofo Abayomi Street",
      area: "Apapa",
      owner: "Wole Soyinka",
      ownerContact: "w.soyinka@example.com",
      type: "Industrial",
      landSize: 2500,
      zone: "Industrial",
      paymentStatus: "paid",
      amountDue: 2800000,
      dueDate: "2023-12-31",
      lastPaymentDate: "2023-09-30",
      boundaries: [
        [6.445, 3.365],
        [6.4455, 3.365],
        [6.4455, 3.366],
        [6.445, 3.366],
      ],
      center: [6.4452, 3.3655],
    },
    {
      id: 1014,
      address: "8 Adetokunbo Ademola Street",
      area: "Victoria Island",
      owner: "Chimamanda Adichie",
      ownerContact: "c.adichie@example.com",
      type: "Residential",
      landSize: 1100,
      zone: "High-Income Residential",
      paymentStatus: "owing",
      amountDue: 1300000,
      dueDate: "2023-10-31",
      boundaries: [
        [6.432, 3.425],
        [6.4325, 3.425],
        [6.4325, 3.426],
        [6.432, 3.426],
      ],
      center: [6.4322, 3.4255],
    },
    {
      id: 1015,
      address: "15 Idowu Taylor Street",
      area: "Victoria Island",
      owner: "Genevieve Nnaji",
      ownerContact: "g.nnaji@example.com",
      type: "Commercial",
      landSize: 950,
      zone: "Commercial",
      paymentStatus: "paid",
      amountDue: 1100000,
      dueDate: "2023-12-31",
      lastPaymentDate: "2023-11-05",
      boundaries: [
        [6.43, 3.418],
        [6.4305, 3.418],
        [6.4305, 3.419],
        [6.43, 3.419],
      ],
      center: [6.4302, 3.4185],
    },
  ];

  // If search query is provided, filter properties
  if (searchQuery && searchQuery.trim() !== "") {
    const query = searchQuery.toLowerCase().trim();
    return allProperties.filter(
      (property) =>
        property.address.toLowerCase().includes(query) ||
        property.owner.toLowerCase().includes(query) ||
        property.area.toLowerCase().includes(query) ||
        property.id.toString().includes(query) ||
        property.type.toLowerCase().includes(query)
    );
  }

  // Return all properties if no search query
  return allProperties;
}
